<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Sentry Tower</title>
	<link rel="stylesheet" href="../css/style.css" type="text/css">
	<link rel="stylesheet" href="../css/settings.css" type="text/css">
</head>
<body>
<div id="update-msg-rounder">
	<div id="update-msg" style="display: none"></div>
</div>

<div id="options">
	<h1>Sentry Tower <span id="version" class="tiny gray"></span></h1>

	<div class="options-divider">
		<p>Instructions on how to set up Sentry Tower can be found on
			<a href="https://github.com/hvetko/sentry-tower/blob/master/instructions.md" target="_blank" class="super-link">Sentry Tower GitHub</a> page.</p>
	</div>

	<div class="options-divider">
		<h2>Sentry Settings</h2>
		<section>
			<label for="sentry-api-token">Sentry API Token</label>
			<input type="text" id="sentry-api-token" placeholder="Sentry API Token"/>
		</section>

		<section>
			<label for="sentry-url">Sentry URL</label>
			<input type="text" id="sentry-url" placeholder="Sentry URL"/>
		</section>

		<section>
			<label for="sentry-check-interval">Check interval (seconds)</label>
			<input type="number" id="sentry-check-interval" placeholder="Check interval (seconds)"/>
		</section>

		<button id="save" class="action action-raised action-big">Save</button>
	</div>

	<div class="options-divider">
		<h2>Querying</h2>

		<section>
			<label><img src="../img/folder.svg" alt="Organizations" class="icon"> Organizations</label>
			<div class="toggler" id="sentry-existing-organizations">
				<ul id="sentry-organizations" class="removable-list">
				</ul>
				<div class="toggler-wrapper">
					<span class="action action-flat toggler-button" data-open="new-organization"
						  data-close="sentry-existing-organizations">Add New Organization</span>
				</div>
			</div>
			<div>
				<div class="adder" id="new-organization" style="display: none">
					Add New Organization
					<section>
						<label for="sentry-organization">Organization URl shortcode</label>
						<input type="text" id="sentry-organization"/>
					</section>
					<span class="action action-raised" data-related="new-organization"
						  id="new-organization-save">Save</span>
					<span class="action action-flat toggler-button" data-open="sentry-existing-organizations"
						  data-close="new-organization">Cancel</span>
				</div>
			</div>
			<div class="clear"></div>
		</section>

		<section>
			<label><img src="../img/layers.svg" alt="Projects" class="icon"> Projects</label>
			<div class="toggler" id="sentry-existing-projects">
				<ul id="sentry-projects" class="removable-list">
				</ul>
				<div class="toggler-wrapper">
					<span class="action action-flat toggler-button" data-open="new-project"
						  data-close="sentry-existing-projects">Add New Project</span>
				</div>
			</div>
			<div>
				<div class="adder" id="new-project" style="display: none">
					Add New Project
					<section>
						<label for="sentry-project-organization">Organization</label>
						<select id="sentry-project-organization"></select>
					</section>

					<section>
						<label for="sentry-project">Project URl shortcode</label>
						<input type="text" id="sentry-project"/>
					</section>
					<span class="action action-raised" data-related="new-project" id="new-project-save">Save</span>
					<span class="action action-flat toggler-button" data-open="sentry-existing-projects"
						  data-close="new-project">Cancel</span>
				</div>
			</div>
		</section>

		<section>
			<label><img src="../img/file.svg" alt="Queries" class="icon"> Queries</label>
			<div class="toggler" id="sentry-existing-queries">
				<ul id="sentry-queries" class="removable-list">
				</ul>
				<div class="toggler-wrapper">
					<span class="action action-flat toggler-button" data-open="new-query"
						  data-close="sentry-existing-queries">Add New Query</span>
				</div>
			</div>
			<div>
				<div class="adder" id="new-query" style="display: none">
					Add New Query
					<section>
						<label for="sentry-query-project">Organization/Project</label>
						<select id="sentry-query-project"></select>
					</section>

					<section>
						<label for="sentry-query">Query</label>
						<input type="text" id="sentry-query" placeholder="Add full query here. Example: is:unresolved search_string" />
						<div class="query-addons">
							<span class="add-to-query link"><img src="../img/plus-circle.svg" class="icon"> is:unresolved</span>
							<span class="add-to-query link"><img src="../img/plus-circle.svg" class="icon"> assigned:me</span>
						</div>
					</section>
					<span class="action action-raised" data-related="new-query" id="new-query-save">Save</span>
					<span class="action action-flat toggler-button" data-open="sentry-existing-queries"
						  data-close="new-query">Cancel</span>
				</div>
			</div>
		</section>
	</div>

</div>
<footer>
	Sentry Tower is <a href="https://github.com/hvetko/sentry-tower" target="_blank">open source <img src="../img/github.svg" class="icon"></a>
</footer>
<script src="../js/jquery-3.2.1.min.js"></script>
<script src="../js/query.model.js"></script>
<script src="../js/settings.js"></script>
</body>
</html>
